{% extends "layout.html" %}
{% block body %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='custom_ubflow.js') }}"></script>
<link rel="stylesheet" type="text/css" href="static/custom_ubflow.css" media="screen"/>
<link rel="stylesheet" type="text/css" href="static/print_stylesheet.css" media="print"/>


<!---------------------------------------------------------------
    - Populate the Class_Info Array at page startup
    - Populate the Class Options Container
---------------------------------------------------------------->
<script>
    var CLASS_HANDLES = [];
    var g_Color = "#0c1Aff";
    var g_Border_Color = "Black";
    var BLOCKED_CLASSES = 0;
    var BLOCKED_RECITATIONS = 0;


    /*********************************************************
    *       Get First Class Information
    *********************************************************/
    $.getJSON('/getfirst', function(dat) {
        var x = 0;
        var recitation = [];
        while(dat.classes[x] != null) {
            var id = dat.classes[x].ID;
            var ubclass = dat.classes[x].UBCLASS;
            var title = "title";
            var department = dat.classes[x].DEPARTMENT;
            var section = dat.classes[x].SECTION;
            var type = dat.classes[x].TYPE;
            var days = dat.classes[x].DAYS;
            var time = dat.classes[x].TIME;
            var building = dat.classes[x].BUILDING;
            var room_number = dat.classes[x].ROOM_NUMBER;
            var location = dat.classes[x].LOCATION;
            var professor = dat.classes[x].PROFESSOR;
            var status = dat.classes[x].STATUS;
            var year = dat.classes[x].YEAR;
            var semester = dat.classes[x].SEMESTER;
            if(dat.classes[x].RECITATION.length != 0){
                var index =0;
                while(index<dat.classes[x].RECITATION.length) {
                    var rec_class_id = dat.classes[x].RECITATION[index].ID;
                    var rec_id = dat.classes[x].RECITATION[index].REC_ID;
                    var ubclass1 = dat.classes[x].RECITATION[index].UBCLASS;
                    var rec_section = dat.classes[x].RECITATION[index].SECTION;
                    var rec_type = dat.classes[x].RECITATION[index].TYPE;
                    var rec_days = dat.classes[x].RECITATION[index].DAYS;
                    var rec_time = dat.classes[x].RECITATION[index].TIME;
                    var rec_building = dat.classes[x].RECITATION[index].BUILDING;
                    var rec_room = dat.classes[x].RECITATION[index].ROOM_NUMBER;
                    var rec_location = dat.classes[x].RECITATION[index].LOCATION;
                    var rec_status = dat.classes[x].RECITATION[index].STATUS;
                    var rec_year = dat.classes[x].RECITATION[index].YEAR;
                    recitation[index] = new UbRec(rec_class_id, rec_id, ubclass1, rec_section, rec_type, rec_days, rec_time, rec_building, rec_room, rec_location, rec_status, rec_year);
                    index++;
                }
            }
            CLASS_HANDLES[x] = new UbClass(id,ubclass,title, department,section,type,days,time,building,room_number,location,professor,status,year,semester, recitation);
            x = x + 1;
            recitation = [];
        }
    });


    /*********************************************************
    *       Get Next Class Information
    *********************************************************/
    $(function() {
        $("#SearchButton").click(function() {
            var x = 0;
            var recitation = [];
            BLOCKED_CLASSES = 0;
            BLOCKED_RECITATIONS =0;
            //Get Input
            var elem = document.getElementById('courseNum');
            var department = document.getElementById('dept_button');
            var chk1 = document.getElementById('checkbox1');
            var chk2 = document.getElementById('checkbox2');
            var chk3 = document.getElementById('checkbox3');
            var chk4 = document.getElementById('checkbox4');
            var chk5 = document.getElementById('checkbox5');

            var chk1_val = chk1.value;
            var chk2_val = chk2.value;
            var chk3_val = chk3.value;
            var chk4_val = chk4.value;
            var chk5_val = chk5.value;

            //Construct UBCLASS dict
            var course = elem.value;
            var dept = department.value;
            var data = {
                'course':course,
                'dept': dept,
                'Mon' : chk1_val,
                'Tue' : chk2_val,
                'Wed' : chk3_val,
                'Thu' : chk4_val,
                'Fri' : chk5_val
            };
//            console.log(data);
            $.ajax({
                type : "POST",
                url : '/getnext/search',
                data: JSON.stringify(data, null, '\t'),
                contentType: 'application/json;charset=UTF-8',
                success: function(dat) {
                    //remove Available Classes
                    remove_available_classes();
                    //Reset Class_Handles
                    reset_class_handles();

                    if(dat.classes[0].UBCLASS == 'No Such Class'){
                        var elem = document.getElementById('dept_button');
                        elem.style.backgroundColor = 'Red';
                        elem = document.getElementById('courseNum');
                        elem.style.backgroundColor = 'Red';
                    }
                    else{
                        while(dat.classes[x] != null) {
                            var id = dat.classes[x].ID;
                            var ubclass = dat.classes[x].UBCLASS;
                            var title = dat.classes[x].TITLE;
                            var department = dat.classes[x].DEPARTMENT;
                            var section = dat.classes[x].SECTION;
                            var type = dat.classes[x].TYPE;
                            var days = dat.classes[x].DAYS;
                            if(chk1_val=="1") {
                                if (days.indexOf("M") != -1) {
                                    x=x+1;
                                    BLOCKED_CLASSES += 1;
                                    continue;
                                }
                            }
                            if(chk2_val=="1") {
                                if (days.indexOf("T") != -1) {
                                    x=x+1;
                                    BLOCKED_CLASSES += 1;
                                    continue;
                                }
                            }
                            if(chk3_val=="1") {
                                if (days.indexOf("W") != -1) {
                                    x=x+1;
                                    BLOCKED_CLASSES += 1;
                                    continue;
                                }
                            }
                            if(chk4_val=="1") {
                                if (days.indexOf("R") != -1) {
                                    x=x+1;
                                    BLOCKED_CLASSES += 1;
                                    continue;
                                }
                            }
                            if(chk5_val=="1") {
                                if (days.indexOf("F") != -1) {
                                    x=x+1;
                                    BLOCKED_CLASSES += 1;
                                    continue;
                                }
                            }
                            var time = dat.classes[x].TIME;
                            var building = dat.classes[x].BUILDING;
                            var room_number = dat.classes[x].ROOM_NUMBER;
                            var location = dat.classes[x].LOCATION;
                            var professor = dat.classes[x].PROFESSOR;
                            var status = dat.classes[x].STATUS;
                            var year = dat.classes[x].YEAR;
                            var semester = dat.classes[x].SEMESTER;
                            if (dat.classes[x].RECITATION.length != 0) {
                                var index = 0;
                                var added_rec = 0;
                                while (index < dat.classes[x].RECITATION.length) {
                                    var rec_days = dat.classes[x].RECITATION[index].DAYS;
                                    if(chk1_val=="1") {
                                        if (rec_days.indexOf("M") != -1) {
                                            index=index+1;
                                            BLOCKED_RECITATIONS += 1;
                                            continue;
                                        }
                                    }
                                    if(chk2_val=="1") {
                                        if (rec_days.indexOf("T") != -1) {
                                            index=index+1;
                                            BLOCKED_RECITATIONS += 1;
                                            continue;
                                        }
                                    }
                                    if(chk3_val=="1") {
                                        if (rec_days.indexOf("W") != -1) {
                                            index=index+1;
                                            BLOCKED_RECITATIONS += 1;
                                            continue;
                                        }
                                    }
                                    if(chk4_val=="1") {
                                        if (rec_days.indexOf("R") != -1) {
                                            index=index+1;
                                            BLOCKED_RECITATIONS += 1;
                                            continue;
                                        }
                                    }
                                    if(chk5_val=="1") {
                                        if (rec_days.indexOf("F") != -1) {
                                            index=index+1;
                                            BLOCKED_RECITATIONS += 1;
                                            continue;
                                        }
                                    }

                                    var rec_class_id = dat.classes[x].RECITATION[index].ID;
                                    var rec_id = dat.classes[x].RECITATION[index].REC_ID;
                                    var ubclass1 = dat.classes[x].RECITATION[index].UBCLASS;
                                    var rec_section = dat.classes[x].RECITATION[index].SECTION;
                                    var rec_type = dat.classes[x].RECITATION[index].TYPE;
                                    var rec_time = dat.classes[x].RECITATION[index].TIME;
                                    var rec_building = dat.classes[x].RECITATION[index].BUILDING;
                                    var rec_room = dat.classes[x].RECITATION[index].ROOM_NUMBER;
                                    var rec_location = dat.classes[x].RECITATION[index].LOCATION;
                                    var rec_status = dat.classes[x].RECITATION[index].STATUS;
                                    var rec_year = dat.classes[x].RECITATION[index].YEAR;
                                    recitation[added_rec] = new UbRec(rec_class_id, rec_id, ubclass1, rec_section, rec_type, rec_days, rec_time,
                                                                        rec_building, rec_room, rec_location, rec_status, rec_year);
                                    added_rec++;
                                    index++;
                                }
                            }
                            CLASS_HANDLES[x] = new UbClass(id, ubclass, title, department, section, type, days, time, building, room_number,
                                                            location, professor, status, year, semester, recitation);
                            x = x + 1;
                            recitation = [];
                            var courseNum = document.getElementById('courseNum');
                            courseNum.style.backgroundColor = 'White';
                        }
                }
                //repopulate list
                make_available_classes2();
//                console.log(dat);
                    console.log("Blocked Classes: " + BLOCKED_CLASSES);
                    var blocked_classes = document.getElementById("blocked_classes");
                    blocked_classes.innerText = "Blocked Options: "+(BLOCKED_CLASSES+BLOCKED_RECITATIONS);
                    console.log("Blocked Recitations: " + BLOCKED_RECITATIONS);
                }
            });
        });
    });
</script>


<!---------------------------------------------------------------
    - Helper Functions
---------------------------------------------------------------->
<body>
    <div id="wrapper">
        <div id="page-wrapper">
            <br/>
            <div class="row">
                <div class="col-xs-3 CourseSearch">
                    <div class="panel panel-default col-xs-12">
                        <div class="panel-heading">
                            <i class="fa fa-book"></i> Course Search
                        </div>
                        <div class="panel-body col-xs-12" style="padding:2px;">
                            <div class="list-group">
                                <form role="form">
                                    <div class="form-group">
                                        <label for="dept_button" class="col-xs-12">Departments:</label>
                                        <select class="form-control col-xs-offset-1 col-xs-5" style="width:50%" id="dept_button" onclick="unshade('dept_button')">
                                            <option>CIE</option>
                                            <option>CSE</option>
                                            <option>EAS</option>
                                            <option>EE</option>
                                            <option>MAE</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label  for="courseNum"  class="col-xs-12 ">Course #:</label>
                                        <div class="col-xs-12">
                                            <input type="text" class="form-control col-xs-offset-1 col-xs-6" id="courseNum" style='max-width:55px;' placeholder="###" onclick="unshade('courseNum')">
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <br/>
                                        <br/>
                                        <br/>
                                        <br/>
                                        <label  for="courseNum"  class="col-xs-12">Block Days:</label>
                                        <div class="col-xs-12">
                                            <input id="checkbox1" name="checkbox1" type="checkbox" style="display: none;" value="0"/>
                                            <input id="checkbox2" name="checkbox2" type="hidden" value="0"/>
                                            <input id="checkbox3" name="checkbox3" type="hidden" value="0"/>
                                            <input id="checkbox4" name="checkbox4" type="hidden" value="0"/>
                                            <input id="checkbox5" name="checkbox5" type="hidden" value="0"/>
                                            <div class="btn-group col-xs-offset-1" data-toggle="buttons">
                                                <button id='monday_button' type="button" class="btn btn-default"
                                                        style="padding: 6px; min-width: 30px;" onclick="check_uncheck_buttons('checkbox1','monday_button')"
                                                        data-checkbox-name="checkbox1">M</button>
                                                <button id='tuesday_button' type="button" class="btn btn-default"
                                                        style="padding: 6px; min-width: 30px;" onclick="check_uncheck_buttons('checkbox2','tuesday_button')"
                                                        data-checkbox-name="checkbox2">T</button>
                                                <button id='wednesday_button' type="button" class="btn btn-default"
                                                        style="padding: 6px; min-width: 30px;" onclick="check_uncheck_buttons('checkbox3','wednesday_button')"
                                                        data-checkbox-name="checkbox3">W</button>
                                                <button id='thursday_button' type="button" class="btn btn-default"
                                                        style="padding: 6px; min-width: 30px;" onclick="check_uncheck_buttons('checkbox4','thursday_button')"
                                                        data-checkbox-name="checkbox4">R</button>
                                                <button id='friday_button' type="button" class="btn btn-default"
                                                        style="padding: 6px; min-width: 30px;" onclick="check_uncheck_buttons('checkbox5','friday_button')"
                                                        data-checkbox-name="checkbox5">F</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <br/>
                            <div class="col-xs-offset-1 col-xs-10">
                                <br/>
                                <a href="#" id="SearchButton" class="btn btn-primary btn-block">Search</a>
                                <br/>
                                <div id="blocked_classes">

                                </div>
                            </div>
                        </div>
                        <br/>

                        <!-- /.panel-body -->
                    </div>

                    <div class="col-xs-12 SelectedClasses">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-shopping-cart fa-fw"></i> Cart
                            <div class="btn-group SelectedClassesButtons pull-right">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="flowsheet">Submit Cart</a>
                                        </li>
                                        <li><a href="profile">Empty Cart</a>
                                        </li>
                                    </ul>
                                </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div id="selected_class_container" class="list-group">

                            </div>
                            <!-- /.list-group -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-3 -->

                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
                <div class="col-xs-6 ProjectedWeeklySchedule">
                   <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-calendar"></i> Projected Weekly Schedule
                            <div class="pull-right">
                                <div class="btn-group ProjectedWeeklyScheduleButtons">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#">Action</a>
                                        </li>
                                        <li><a href="flowsheet">View Current Semester</a>
                                        </li>
                                        <li><a href="profile">View Next Semester</a>
                                        </li>
                                    </ul>
                                    <a href="javascript:window.print()">
                                        <button type="button" class="btn btn-default btn-xs">
                                        Print This Chart
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-hover" style="padding:1px;">
                                            <thead>
                                                <tr style="background-color:#abb9d3">
                                                    <th style="width:50px; text-align:center">Time</th>
                                                    <th style="width:90px; text-align:center">Mon</th>
                                                    <th style="width:90px; text-align:center">Tue</th>
                                                    <th style="width:90px; text-align:center">Wed</th>
                                                    <th style="width:90px; text-align:center">Thu</th>
                                                    <th style="width:90px; text-align:center">Fri</th>
                                                    <th style="width:90px; text-align:center">Sat</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr style="height:15px;">
                                                    <td style="padding:2px;" id="time_column">8:00</td>
                                                    <td id="M8:00AM"></td>
                                                    <td id="T8:00AM"></td>
                                                    <td id="W8:00AM"></td>
                                                    <td id="R8:00AM"></td>
                                                    <td id="F8:00AM"></td>
                                                    <td id="S8:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td style="padding:1px;" id="time_column">8:30</td>
                                                    <td id="M8:30AM"></td>
                                                    <td id="T8:30AM"></td>
                                                    <td id="W8:30AM"></td>
                                                    <td id="R8:30AM"></td>
                                                    <td id="F8:30AM"></td>
                                                    <td id="S8:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td style="padding:1px;" id="time_column">9:00</td>
                                                    <td id="M9:00AM"></td>
                                                    <td id="T9:00AM"></td>
                                                    <td id="W9:00AM"></td>
                                                    <td id="R9:00AM"></td>
                                                    <td id="F9:00AM"></td>
                                                    <td id="S9:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">9:30</td>
                                                    <td id="M9:30AM"></td>
                                                    <td id="T9:30AM"></td>
                                                    <td id="W9:30AM"></td>
                                                    <td id="R9:30AM"></td>
                                                    <td id="F9:30AM"></td>
                                                    <td id="S9:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">10:00</td>
                                                    <td id="M10:00AM"></td>
                                                    <td id="T10:00AM"></td>
                                                    <td id="W10:00AM"></td>
                                                    <td id="R10:00AM"></td>
                                                    <td id="F10:00AM"></td>
                                                    <td id="S10:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">10:30</td>
                                                    <td id="M10:30AM"></td>
                                                    <td id="T10:30AM"></td>
                                                    <td id="W10:30AM"></td>
                                                    <td id="R10:30AM"></td>
                                                    <td id="F10:30AM"></td>
                                                    <td id="S10:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">11:00</td>
                                                    <td id="M11:00AM"></td>
                                                    <td id="T11:00AM"></td>
                                                    <td id="W11:00AM"></td>
                                                    <td id="R11:00AM"></td>
                                                    <td id="F11:00AM"></td>
                                                    <td id="S11:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                   <td  style="padding:1px;" id="time_column">11:30</td>
                                                    <td id="M11:30AM"></td>
                                                    <td id="T11:30AM"></td>
                                                    <td id="W11:30AM"></td>
                                                    <td id="R11:30AM"></td>
                                                    <td id="F11:30AM"></td>
                                                    <td id="S11:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">12:00</td>
                                                    <td id="M12:00PM"></td>
                                                    <td id="T12:00PM"></td>
                                                    <td id="W12:00PM"></td>
                                                    <td id="R12:00PM"></td>
                                                    <td id="F12:00PM"></td>
                                                    <td id="S12:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">12:30</td>
                                                    <td id="M12:30PM"></td>
                                                    <td id="T12:30PM"></td>
                                                    <td id="W12:30PM"></td>
                                                    <td id="R12:30PM"></td>
                                                    <td id="F12:30PM"></td>
                                                    <td id="S12:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">1:00</td>
                                                    <td id="M1:00PM"></td>
                                                    <td id="T1:00PM"></td>
                                                    <td id="W1:00PM"></td>
                                                    <td id="R1:00PM"></td>
                                                    <td id="F1:00PM"></td>
                                                    <td id="S1:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">1:30</td>
                                                    <td id="M1:30PM"></td>
                                                    <td id="T1:30PM"></td>
                                                    <td id="W1:30PM"></td>
                                                    <td id="R1:30PM"></td>
                                                    <td id="F1:30PM"></td>
                                                    <td id="S1:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">2:00</td>
                                                    <td id="M2:00PM"></td>
                                                    <td id="T2:00PM"></td>
                                                    <td id="W2:00PM"></td>
                                                    <td id="R2:00PM"></td>
                                                    <td id="F2:00PM"></td>
                                                    <td id="S2:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">2:30</td>
                                                    <td id="M2:30PM"></td>
                                                    <td id="T2:30PM"></td>
                                                    <td id="W2:30PM"></td>
                                                    <td id="R2:30PM"></td>
                                                    <td id="F2:30PM"></td>
                                                    <td id="S2:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">3:00</td>
                                                    <td id="M3:00PM"></td>
                                                    <td id="T3:00PM"></td>
                                                    <td id="W3:00PM"></td>
                                                    <td id="R3:00PM"></td>
                                                    <td id="F3:00PM"></td>
                                                    <td id="S3:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">3:30</td>
                                                    <td id="M3:30PM"></td>
                                                    <td id="T3:30PM"></td>
                                                    <td id="W3:30PM"></td>
                                                    <td id="R3:30PM"></td>
                                                    <td id="F3:30PM"></td>
                                                    <td id="S3:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">4:00</td>
                                                    <td id="M4:00PM"></td>
                                                    <td id="T4:00PM"></td>
                                                    <td id="W4:00PM"></td>
                                                    <td id="R4:00PM"></td>
                                                    <td id="F4:00PM"></td>
                                                    <td id="S4:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">4:30</td>
                                                    <td id="M4:30PM"></td>
                                                    <td id="T4:30PM"></td>
                                                    <td id="W4:30PM"></td>
                                                    <td id="R4:30PM"></td>
                                                    <td id="F4:30PM"></td>
                                                    <td id="S4:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">5:00</td>
                                                    <td id="M5:00PM"></td>
                                                    <td id="T5:00PM"></td>
                                                    <td id="W5:00PM"></td>
                                                    <td id="R5:00PM"></td>
                                                    <td id="F5:00PM"></td>
                                                    <td id="S5:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">5:30</td>
                                                    <td id="M5:30PM"></td>
                                                    <td id="T5:30PM"></td>
                                                    <td id="W5:30PM"></td>
                                                    <td id="R5:30PM"></td>
                                                    <td id="F5:30PM"></td>
                                                    <td id="S5:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">6:00</td>
                                                    <td id="M6:00PM"></td>
                                                    <td id="T6:00PM"></td>
                                                    <td id="W6:00PM"></td>
                                                    <td id="R6:00PM"></td>
                                                    <td id="F6:00PM"></td>
                                                    <td id="S6:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">6:30</td>
                                                    <td id="M6:30PM"></td>
                                                    <td id="T6:30PM"></td>
                                                    <td id="W6:30PM"></td>
                                                    <td id="R6:30PM"></td>
                                                    <td id="F6:30PM"></td>
                                                    <td id="S6:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">7:00</td>
                                                    <td id="M7:00PM"></td>
                                                    <td id="T7:00PM"></td>
                                                    <td id="W7:00PM"></td>
                                                    <td id="R7:00PM"></td>
                                                    <td id="F7:00PM"></td>
                                                    <td id="S7:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">7:30</td>
                                                    <td id="M7:30PM"></td>
                                                    <td id="T7:30PM"></td>
                                                    <td id="W7:30PM"></td>
                                                    <td id="R7:30PM"></td>
                                                    <td id="F7:30PM"></td>
                                                    <td id="S7:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">8:00</td>
                                                    <td id="M8:00PM"></td>
                                                    <td id="T8:00PM"></td>
                                                    <td id="W8:00PM"></td>
                                                    <td id="R8:00PM"></td>
                                                    <td id="F8:00PM"></td>
                                                    <td id="S8:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td  style="padding:1px;" id="time_column">8:30</td>
                                                    <td id="M8:30PM"></td>
                                                    <td id="T8:30PM"></td>
                                                    <td id="W8:30PM"></td>
                                                    <td id="R8:30PM"></td>
                                                    <td id="F8:30PM"></td>
                                                    <td id="S8:30PM"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- /.table-responsive -->
                                </div>
                                <!-- /.col-lg-4 (nested) -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-9 -->
                <div class="col-xs-3 AvailableClasses">
                    <div class="panel panel-default">
                        <div id="head" class="panel-heading">
                            <i class="fa fa-calendar fa-fw"></i> Available Classes
                        </div>
                        <!-- /.panel-heading -->
                        <div id="accordion-body" class="panel-body" style="padding:4px; max-height: 600px; overflow-y: scroll">
                            <div class="panel-group" id="accordion">
                                <div id="timeout_wheel" class="panel panel-default"  style="display: block; height: 175px; background-color: #b0bed9; border: solid 4px;" >
                                    <h3 align="center">Finding Your Classes...</h3>
                                    <script>
                                       var opts = { lines: 12             // The number of lines to draw
                                                    , length: 12             // The length of each line
                                                    , width: 5              // The line thickness
                                                    , radius: 15            // The radius of the inner circle
                                                    , scale: 1.0            // Scales overall size of the spinner
                                                    , corners: 1            // Roundness (0..1)
                                                    , color: '#000'         // #rgb or #rrggbb
                                                    , opacity: 1/4          // Opacity of the lines
                                                    , rotate: 0             // Rotation offset
                                                    , direction: 1          // 1: clockwise, -1: counterclockwise
                                                    , speed: 1              // Rounds per second
                                                    , trail: 100            // Afterglow percentage
                                                    , fps: 20               // Frames per second when using setTimeout()
                                                    , zIndex: 2e9           // Use a high z-index by default
                                                    , className: 'spinner'  // CSS class to assign to the element
                                                    , top: '60%'            // center vertically
                                                    , left: '50%'           // center horizontally
                                                    , shadow: true         // Whether to render a shadow
                                                    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
                                                    , position: 'absolute'  // Element positioning
                                                    };
                                       var target = document.getElementById('timeout_wheel');
                                       var spinner = new Spinner(opts).spin(target);
                                       window.setTimeout(switch_avail_classes,2000);
                                    </script>
                                </div>
                            </div>

                            <!-- /.list-group -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery -->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/jquery/dist/jquery.min.js') }}"></script>
    <!-- Metis Menu Plugin JavaScript -->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/metisMenu/dist/metisMenu.min.js') }}"></script>
    <!-- Morris Charts JavaScript -->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/raphael/raphael-min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/morrisjs/morris.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/js/morris-data.js') }}"></script>
    <!--bootstrap and custom bootstrap js files-->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/dist/js/sb-admin-2.js') }}"></script>
    <script type ='text/javascript'>



        var g_Color = "#8FC8FF";
        var g_Border_Color = "Black";


        /* Get Current User */
        window.onload = function() {
            $.getJSON('/userid', function (dat) {
                if (dat.classes) {
                    USER_ID = dat.classes[0].ID;
//                    console.log(dat);
                }
            });
        };



        /*********************************************************
        *       Selected Courses Linked List
        *********************************************************/
        var Linked_List = function(){
            this.head = null;
        };

        Linked_List.prototype.node = function(class_payload,rec_payload){
            var elem = {
                class_handle : class_payload,
                rec_handle : rec_payload,
                next : null
            };
            return elem;
        };

        Linked_List.prototype.add_node = function(class_payload,rec_payload){
            if(!this.head){
               this.head = this.node(class_payload,rec_payload);
            }
            else{
                var current_node = this.head;
                while(current_node.next != null){
                    current_node = current_node.next;
                }
                current_node.next = this.node(class_payload,rec_payload);
            }
        };

        Linked_List.prototype.remove_node = function(class_payload,rec_payload){
            var current_node = this.head;
            if((current_node.class_handle.ID == class_payload.ID)&&(current_node.rec_handle.ID == rec_payload.ID)){
               this.head = current_node.next;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if((current_node.class_handle.ID == class_payload.ID)&&(current_node.rec_handle.ID == rec_payload.ID)){
                        previous_node.next = current_node.next;
                        break;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if((current_node.class_handle.ID == class_payload.ID)&&(current_node.rec_handle.ID == rec_payload.ID)){
                    previous_node.next = null;
                }
            }
        };

        Linked_List.prototype.remove_node_by_class = function(class_payload){
            var current_node = this.head;
            if(current_node.next != null){
                current_node = current_node.next;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if(current_node.class_handle.ID == class_payload.ID){
                        previous_node.next = current_node.next;
                        break;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if(current_node.class_handle.ID == class_payload.ID){
                    previous_node.next = null;
                }
            }
        };

        Linked_List.prototype.remove_node_by_rec = function(rec_payload){
            var current_node = this.head;
            if(current_node.rec_handle.ID == rec_payload.ID){
               this.head = current_node.next;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if(current_node.rec_handle.ID == rec_payload.ID){
                        previous_node.next = current_node.next;
                        break;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if(current_node.rec_handle.ID == rec_payload.ID){
                    previous_node.next = null;
                }
            }
        };

        Linked_List.prototype.find_node = function(class_payload,rec_payload){
            var current_node = this.head;
            if((current_node.class_handle.ID == class_payload.ID)&&(current_node.rec_handle.ID == rec_payload.ID)){
               return true;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if((current_node.class_handle.ID == class_payload.ID)&&(current_node.rec_handle.ID == rec_payload.ID)){
                        previous_node.next = current_node.next;
                        return true;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if((current_node.class_handle.ID == class_payload.ID)&&(current_node.rec_handle.ID == rec_payload.ID)){
                    return true;
                }
                return false;
            }

        };

        Linked_List.prototype.find_node_by_class = function(class_payload){
            var current_node = this.head;
            if(current_node.class_handle.ID == class_payload.ID){
                return true;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if(current_node.class_handle.ID == class_payload.ID){
                        previous_node.next = current_node.next;
                        return true;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if(current_node.class_handle.ID == class_payload.ID){
                    return true;
                }
                return false;
            }
        };

        Linked_List.prototype.find_node_by_ubclass = function(class_payload){
            var current_node = this.head;
            if(current_node.class_handle.UBCLASS == class_payload.UBCLASS){
                return true;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if(current_node.class_handle.UBCLASS == class_payload.UBCLASS){
                        previous_node.next = current_node.next;
                        return true;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if(current_node.class_handle.UBCLASS == class_payload.UBCLASS){
                    return true;
                }
                return false;
            }
        };

        Linked_List.prototype.find_node_by_rec = function(rec_payload){
            var current_node = this.head;
            if(current_node.rec_handle.ID == rec_payload.ID){
               return true;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if(current_node.rec_handle.ID == rec_payload.ID){
                        previous_node.next = current_node.next;
                        return true;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if(current_node.rec_handle.ID == rec_payload.ID){
                    return true;
                }
                return false;
            }
        };

        Linked_List.prototype.switch_node_rec_handle = function(class_payload, rec_payload){
            var current_node = this.head;
            if(current_node.class_handle.ID == class_payload.ID){
                current_node.rec_handle = rec_payload;
            }
            else{
                var previous_node = current_node;

                while(current_node.next){
                    if(current_node.class_handle.ID == class_payload.ID){
                        current_node.rec_handle = rec_payload;
                        break;
                    }
                    else if(current_node.class_handle.TITLE == class_payload.TITLE){
                        current_node.class_handle = class_payload;
                        break;
                    }
                    previous_node = current_node;
                    current_node = current_node.next;
                }
                if(current_node.class_handle.ID == class_payload.ID){
                    current_node.rec_handle = rec_payload;
                }
            }
        };

        Linked_List.prototype.return_node_by_ubclass = function(class_payload){
            var current_node = this.head;
            if(current_node.next != null){
                current_node = current_node.next;
            }
            while(current_node.next){
                if(current_node.class_handle.UBCLASS == class_payload.UBCLASS){
                    previous_node.next = current_node.next;
                    return current_node;
                }
                previous_node = current_node;
                current_node = current_node.next;
            }
            if(current_node.class_handle.UBCLASS == class_payload.UBCLASS){
                return current_node;
            }
            return -1;
        };

        Linked_List.prototype.return_node_by_id = function(class_payload){
            var current_node = this.head;
            if(current_node.next != null){
                current_node = current_node.next;
            }
            while(current_node.next){
                if(current_node.class_handle.ID == class_payload.ID){
                    return current_node;
                }
                current_node = current_node.next;
            }
            if(current_node.class_handle.ID == class_payload.ID){
                return current_node;
            }
        };


        var SEL_LL = new Linked_List();
        SEL_LL.add_node("head","node");
//        var truth = SEL_LL.find_node("class1", "rec1");
//        var class_exists = SEL_LL.find_node_by_class("class2");
//        var rec_exists = SEL_LL.find_node_by_rec("rec1");
//        SEL_LL.add_node("class2", "rec2");
//        SEL_LL.remove_node_by_rec("rec2");
//        SEL_LL.switch_node_rec_handle("class1", "rec9");


        /*********************************************************
        *       Courses Class
        *********************************************************/
        var UbClass = function(id,ubclass,title,department,section,type,days,time,building,room_number,location,professor,status,year,semester, recitation){
            this.ID = id;
            this.UBCLASS = ubclass;
            this.TITLE = title;
            this.DEPARTMENT = department;
            this.SECTION = section;
            this.TYPE = type;
            this.DAYS = days;
            this.TIME = time;
            this.BUILDING = building;
            this.ROOM_NUMBER = room_number;
            this.LOCATION = location;
            this.PROFESSOR = professor;
            this.STATUS = status;
            this.YEAR = year;
            this.SEMESTER = semester;
            this.RECITATION = recitation;
            this.REC_ID_selected = 0;
        };
        UbClass.prototype.get_id = function(){
            return this.ID;
        };
        UbClass.prototype.get_ubclass = function(){
            return this.UBCLASS;
        };
        UbClass.prototype.get_title = function(){
            return this.TITLE;
        };
        UbClass.prototype.get_recitation = function(){
            return this.RECITATION;
        };
        UbClass.prototype.get_rec_selected = function(){
            return this.REC_ID_selected;
        };
        UbClass.prototype.set_rec_selected = function(rec){
            this.REC_ID_selected = rec;
        };
        UbClass.prototype.get_type = function(){
            return this.TYPE;
        };
        UbClass.prototype.get_days = function(){
            return this.DAYS;
        };
        UbClass.prototype.get_time = function(){
            return this.TIME;
        };


        /*********************************************************
        *       Recitation Class
        *********************************************************/
        var UbRec = function(rec_class_id, rec_id, ubclass,section,type,days,time,building,room_number,location,status,year){
            this.ID = rec_class_id;
            this.REC_ID = rec_id;
            this.UBCLASS = ubclass;
            this.SECTION = section;
            this.TYPE = type;
            this.DAYS = days;
            this.TIME = time;
            this.BUILDING = building;
            this.ROOM_NUMBER = room_number;
            this.LOCATION = location;
            this.STATUS = status;
            this.YEAR = year;
        };
        UbRec.prototype.get_id = function(){
            return this.ID;
        };
        UbRec.prototype.get_ubclass = function(){
            return this.UBCLASS;
        };
        UbRec.prototype.get_title = function(){
            return this.TITLE;
        };
        UbRec.prototype.get_type = function(){
            return this.TYPE;
        };
        UbRec.prototype.get_days = function(){
            return this.DAYS;
        };
        UbRec.prototype.get_time = function(){
            return this.TIME;
        };

        /*********************************************************
        *       Table Class
        *********************************************************/
        var Table_Class = function() {
            var x = 0;
            this.table_cells = [];
            for (x; x < 135; x++) {   //162 FOR SATURDAYS
                this.table_cells[x] = " ";
            }
            this.id_table = ['M8:00AM', 'M8:30AM', 'M9:00AM', 'M9:30AM', 'M10:00AM', 'M10:30AM', 'M11:00AM', 'M11:30AM', 'M12:00PM',
                'M12:30PM', 'M1:00PM', 'M1:30PM', 'M2:00PM', 'M2:30PM', 'M3:00PM', 'M3:30PM', 'M4:00PM', 'M4:30PM', 'M5:00PM',
                'M5:30PM', 'M6:00PM', 'M6:30PM', 'M7:00PM', 'M7:30PM', 'M8:00PM', 'M8:30PM', 'M9:00PM',
                'T8:00AM', 'T8:30AM', 'T9:00AM', 'T9:30AM', 'T10:00AM', 'T10:30AM', 'T11:00AM', 'T11:30AM', 'T12:00PM',
                'T12:30PM', 'T1:00PM', 'T1:30PM', 'T2:00PM', 'T2:30PM', 'T3:00PM', 'T3:30PM', 'T4:00PM', 'T4:30PM', 'T5:00PM',
                'T5:30PM', 'T6:00PM', 'T6:30PM', 'T7:00PM', 'T7:30PM', 'T8:00PM', 'T8:30PM', 'T9:00PM',
                'W8:00AM', 'W8:30AM', 'W9:00AM', 'W9:30AM', 'W10:00AM', 'W10:30AM', 'W11:00AM', 'W11:30AM', 'W12:00PM',
                'W12:30PM', 'W1:00PM', 'W1:30PM', 'W2:00PM', 'W2:30PM', 'W3:00PM', 'W3:30PM', 'W4:00PM', 'W4:30PM', 'W5:00PM',
                'W5:30PM', 'W6:00PM', 'W6:30PM', 'W7:00PM', 'W7:30PM', 'W8:00PM', 'W8:30PM', 'W9:00PM',
                'R8:00AM', 'R8:30AM', 'R9:00AM', 'R9:30AM', 'R10:00AM', 'R10:30AM', 'R11:00AM', 'R11:30AM', 'R12:00PM',
                'R12:30PM', 'R1:00PM', 'R1:30PM', 'R2:00PM', 'R2:30PM', 'R3:00PM', 'R3:30PM', 'R4:00PM', 'R4:30PM', 'R5:00PM',
                'R5:30PM', 'R6:00PM', 'R6:30PM', 'R7:00PM', 'R7:30PM', 'R8:00PM', 'R8:30PM', 'R9:00PM',
                'F8:00AM', 'F8:30AM', 'F9:00AM', 'F9:30AM', 'F10:00AM', 'F10:30AM', 'F11:00AM', 'F11:30AM', 'F12:00PM',
                'F12:30PM', 'F1:00PM', 'F1:30PM', 'F2:00PM', 'F2:30PM', 'F3:00PM', 'F3:30PM', 'F4:00PM', 'F4:30PM', 'F5:00PM',
                'F5:30PM', 'F6:00PM', 'F6:30PM', 'F7:00PM', 'F7:30PM', 'F8:00PM', 'F8:30PM', 'F9:00PM'];
//                'S8:00AM', 'S8:30AM', 'S9:00AM', 'S9:30AM', 'S10:00AM', 'S10:30AM', 'S11:00AM', 'S11:30AM', 'S12:00PM',
//                'S12:30PM', 'S1:00PM', 'S1:30PM', 'S2:00PM', 'S2:30PM', 'S3:00PM', 'S3:30PM', 'S4:00PM', 'S4:30PM', 'S5:00PM',
//                'S5:30PM', 'S6:00PM', 'S6:30PM', 'S7:00PM', 'S7:30PM', 'S8:00PM', 'S8:30PM', 'S9:00PM'];
        };

        /***********************************
        *       Get Cell Values
        ************************************/
        Table_Class.prototype.get_cell_value = function(cell_id){
            var index = this.id_table.indexOf(cell_id);
            return this.table_cells[index];
        };

        /***********************************
        *       Set Cell Values
        ************************************/
        Table_Class.prototype.set_cell_value = function(cell_id, new_data){
            var index = this.id_table.indexOf(cell_id);
            this.table_cells[index] = new_data;
        };

        /***********************************
        *       Change Cell Color
        ************************************/
        Table_Class.prototype.set_cell_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.backgroundColor = color;
                }
            }
        };

        /***********************************
        *       Change All Border Color
        ************************************/
        Table_Class.prototype.set_cell_border_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderBottomColor = color;
                }
            }
        };

        /***********************************
        *       Change Bottom Border Color
        ************************************/
        Table_Class.prototype.set_bottom_border_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderBottomColor = color;
                }
            }
        };

        /***********************************
        *       Change Top Border Color
        ************************************/
        Table_Class.prototype.set_top_border_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderTopColor = color;
                }
            }
        };

        /***********************************
        *       Change Side Border Color
        ************************************/
        Table_Class.prototype.set_side_borders_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderRightColor = color;
                    elem.style.borderLeftColor = color;
                }
            }
        };

        /***********************************
        *       Test for cell_Conflict
        ************************************/
        Table_Class.prototype.cell_conflict = function(cell_id){
            var index = this.id_table.indexOf(cell_id);
            if(this.table_cells[index] == ' '){
                return false;
            }
            return true;
        };

        /***********************************
        *       Set Cell Color and Text
        ************************************/
        Table_Class.prototype.clicked_class = function(rec_handle, class_handle){
            populate_selected_class(class_handle,rec_handle);
        };

        /***********************************
        *       Change Visible Text
        ************************************/
        Table_Class.prototype.changeText = function(cell_id,text) {
            if (elem = document.getElementById(cell_id)) {
                elem.innerHTML = text;
            }
        };

        /***************************************
        *       Clear All Recitations of Parent Class
        ****************************************/
        Table_Class.prototype.time_conflict = function(class_handle) {
            var times = convertTimes(class_handle.DAYS, class_handle.TIME);
            var index;
            for(var w=0;w<10;w=w+2) {
                if (times[w] != ' ') {
                    index = Table1.id_table.indexOf(times[w]);
                    while (Table1.id_table[index] != times[w + 1]) {
                        if(Table1.get_cell_value(Table1.id_table[index]) != ' '){
                            return true;
                        }
                        index += 1;
                    }
                }
            }
            return false;
        };

        Table_Class.prototype.clear_all_cells = function(){
            var x=0;
            for(x=0;x<Table1.id_table.length;x++){
                this.set_cell_value(this.id_table[x], ' ');
                this.set_cell_color(this.id_table[x], "White");
                this.set_cell_border_color(this.id_table[x], "#ddd");
                this.set_side_borders_color(this.id_table[x], "#ddd");
            }
        };

        Table_Class.prototype.num_cells = function(){
            return 135;  //162 FOR SATURDAYS
        };

        Table_Class.prototype.cells_per_col = function(){
            return 27;
        };





        /***************************************
        *       Paint Cells
        ****************************************/
        Table_Class.prototype.paint_cells = function(class_handle) {
            var paint_times = convertTimes(class_handle.DAYS, class_handle.TIME);
            var paint_index;
            var first_cell_of_block;
            for(var w=0;w<10;w=w+2) {  //12 FOR SATURDAYS
                first_cell_of_block = 1;
                if (times[w] != ' ') {
                    paint_index = Table1.id_table.indexOf(paint_times[w]);
                    var elem = document.getElementById(Table1.id_table[paint_index]);
                    while (Table1.id_table[paint_index] != paint_times[w + 1]) {
                        this.set_cell_value(this.id_table[paint_index],class_handle.ID);
                        this.set_cell_color(this.id_table[paint_index], g_Color);
                        this.set_side_borders_color(this.id_table[paint_index], g_Border_Color);
                        this.set_bottom_border_color(this.id_table[paint_index], g_Color);

                        /* For Melanie to do gradients */
//                        var elem2 = document.getElementById(this.id_table[paint_index]);
//                        elem2.setAttribute('name','class_created');
//                        elem2.style.backgroundColor = "";

                        /* This is where an image would go */
                        //elem = document.getElementById(Table1.id_table[paint_index]);
                        //elem.style.backgroundImage = "url('static/grad3.png')";
                        //elem.style.border = '0';

                        if(first_cell_of_block == 1) {
                            if(class_handle.REC_ID) {
                                this.changeText(this.id_table[paint_index], class_handle.UBCLASS);
                                this.changeText(this.id_table[paint_index+1], class_handle.TYPE);
                                /* Change if you want a different top cell image */
                                //elem.style.backgroundImage = "url('static/bar2_top.png')";
                                //elem.style.border = '0';
                            }
                            else{
                                this.changeText(this.id_table[paint_index], class_handle.UBCLASS);
                                /* Change if you want a different top cell image */
                                //elem.style.backgroundImage = "url('static/bar2_top.png')";
                                //elem.style.border = '0';
                            }
                            first_cell_of_block = 0;
                            //this.set_top_border_color(this.id_table[paint_index], g_Border_Color);
                        }
                        paint_index++;
                    }
                    /* Change if you want a different bottom cell image */
                    //elem = document.getElementById(Table1.id_table[paint_index-1]);
                    //elem.style.backgroundImage = "url('static/bar2_bottom.png')";
                    //elem.style.border = '0';

                    this.set_bottom_border_color(this.id_table[paint_index-1], g_Border_Color);
                }
            }
        };

        /***************************************
        *       Clear Cells
        ****************************************/
        Table_Class.prototype.clear_cells = function(class_handle) {
            var clear_times = convertTimes(class_handle.DAYS, class_handle.TIME);
            var clear_index, elem;
            var first_cell_of_block;
            var conflict_reset = 0;
            for(var k=0;k<10;k=k+2) {  //12 FOR SATURDAYS
                first_cell_of_block = 1;
                if (times[k] != ' ') {
                    clear_index = Table1.id_table.indexOf(clear_times[k]);
                    while (Table1.id_table[clear_index] != clear_times[k + 1]) {
                        if(Table1.cell_conflict(this.id_table[clear_index])){
                            if(this.get_cell_value(this.id_table[clear_index]) == class_handle.ID) {
                                this.set_cell_value(this.id_table[clear_index], ' ');
                                /* Comment out below if using image */
                                this.set_cell_color(this.id_table[clear_index], "White");
                                this.set_cell_border_color(this.id_table[clear_index], "#ddd");
                                this.set_side_borders_color(this.id_table[clear_index], "#ddd");


                                /* Change if you want a different cell image */
                                //elem = document.getElementById(Table1.id_table[clear_index]);
                                //elem.style.backgroundImage = "none";
                                //elem.style.border = "solid 1px #ddd";

                                if (first_cell_of_block == 1) {
                                    this.changeText(this.id_table[clear_index], ' ');
                                    this.changeText(this.id_table[clear_index + 1], ' ');
                                    first_cell_of_block = 0;
                                }
                                conflict_reset = 1;
                            }
                            /* Unnecessary?*/
                            else{
                                //this.set_cell_value(this.id_table[clear_index], ' ');
//                                this.set_cell_color(this.id_table[clear_index], g_Color);
//                                this.set_cell_border_color(this.id_table[clear_index], g_Color);
//                                this.set_side_borders_color(this.id_table[clear_index], g_Color);
//                                if (first_cell_of_block == 1) {
//                                    this.changeText(this.id_table[clear_index], ' ');
//                                    this.changeText(this.id_table[clear_index + 1], ' ');
//                                    first_cell_of_block = 0;
//                                }
                                conflict_reset = 0;
                            }
                        }
                        clear_index++;
                    }
                    if(conflict_reset == 0){
                        this.set_bottom_border_color(this.id_table[clear_index-1], g_Border_Color);
                    }
                }
            }
        };






        Table_Class.prototype.reset_selected = function(Linked_List){
            var node = Linked_List.head;
            if(node == null){
                return;
            }
            node = node.next;
            while(node.next != null){
                Table1.paint_cells(node.class_handle);
                Table1.paint_cells(node.rec_handle);
            }
        };

//        var Selected_Class = function(){
//            this.SELECTED_CLASS_HANDLES = [];
//            this.NUM_SELECTED_CLASSES = 0;
//        };


        /*********************************************************
        *       New Instances
        *********************************************************/
        var Table1 = new Table_Class();
        //var Selected_Classes = new Selected_Class();


        /*********************************************************
        *       Reset Class Handles Array  to None
        *********************************************************/
        function reset_class_handles(){
            for(var i=0;i<CLASS_HANDLES.length;i++){
                CLASS_HANDLES[i] = null;
            }
        }


        /*********************************************************
        *       Remove All Available Classes Currently Visible
        *********************************************************/
        function remove_available_classes(){
            var list = document.getElementById('accordion-body');
            var i =0;
            while(i<CLASS_HANDLES.length){
                if(CLASS_HANDLES[i]){
                    list = document.getElementById('container' + i).remove();
                    if(CLASS_HANDLES[i].get_recitation()){
                        var str;
                        for(var r=0;r<CLASS_HANDLES[i].get_recitation().length;r++){
                            str = String(i)+ String(r);
                            parent = document.getElementById('collapser' + str).remove();
                        }
                    }
                }
                i++;
            }
        }

        /*********************************************************
        *       Check of Uncheck the Hidden Checkboxes
        *********************************************************/
        function check_uncheck_buttons(checkbox_id, button_id){
            var num_cells;
            if(button_id == 'monday_button'){num_cells=Table1.num_cells() - Table1.cells_per_col()*5;}
            if(button_id == 'tuesday_button'){num_cells=Table1.num_cells() - Table1.cells_per_col()*4;}
            if(button_id == 'wednesday_button'){num_cells=Table1.num_cells() - Table1.cells_per_col()*3;}
            if(button_id == 'thursday_button'){num_cells=Table1.num_cells() - Table1.cells_per_col()*2;}
            if(button_id == 'friday_button'){num_cells=Table1.num_cells() - Table1.cells_per_col()*1;}
            limit = num_cells + Table1.cells_per_col()-1;
            var checkbox = document.getElementById(checkbox_id);
            var button = document.getElementById(button_id);
            if(checkbox.value == "0"){
                checkbox.value = "1";
                button.style.backgroundColor = "#f78181";
                for(num_cells;num_cells<limit;num_cells++){
                    if(Table1.get_cell_value(Table1.id_table[num_cells]) == ' ') {
                        Table1.set_cell_color(Table1.id_table[num_cells], "#F78181");
                        Table1.set_bottom_border_color(Table1.id_table[num_cells], "#F78181");
                    }
                }
            }
            else{
                checkbox.value = "0";
                button.style.backgroundColor = "White";
                for(num_cells;num_cells<limit;num_cells++){
                    if(Table1.get_cell_value(Table1.id_table[num_cells]) == ' ') {
                        Table1.set_cell_color(Table1.id_table[num_cells], "White");
                        Table1.set_bottom_border_color(Table1.id_table[num_cells], "#ddd");
                    }
                }
            }
        }
    </script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>



</body>




{% endblock %}