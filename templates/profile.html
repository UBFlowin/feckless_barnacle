{% extends "layout.html" %}
{% block body %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='custom_ubflow.js') }}"></script>

<!---------------------------------------------------------------
    - Populate the Class_Info Array at page startup
    - Populate the Class Options Container
---------------------------------------------------------------->
<script>
    var CLASS_HANDLES = [];
//    var SELECTED_CLASS_HANDLES = [];
//    var NUM_SELECTED_CLASSES = 0;
</script>
<script>
    /*********************************************************
    *       Get First Class Information
    *********************************************************/
    $.getJSON('/getfirstclassgroup', function(dat) {
        var x = 0;
        recitation = [];
        while(dat.classes[x] != null) {
            var id = dat.classes[x].ID;
            var ubclass = dat.classes[x].UBCLASS;
            var title = "title";
            var department = dat.classes[x].DEPARTMENT;
            var section = dat.classes[x].SECTION;
            var type = dat.classes[x].TYPE;
            var days = dat.classes[x].DAYS;
            var time = dat.classes[x].TIME;
            var building = dat.classes[x].BUILDING;
            var room_number = dat.classes[x].ROOM_NUMBER;
            var location = dat.classes[x].LOCATION;
            var professor = dat.classes[x].PROFESSOR;
            var status = dat.classes[x].STATUS;
            var reserved = dat.classes[x].RESERVED;
            var semester = dat.classes[x].SEMESTER;
            if(dat.classes[x].RECITATION.length != 0){
                var index =0;
                while(index<dat.classes[x].RECITATION.length) {
                    var rec_class_id = dat.classes[x].RECITATION[index].ID;
                    var rec_id = dat.classes[x].RECITATION[index].REC_ID;
                    var ubclass1 = dat.classes[x].RECITATION[index].UBCLASS;
                    var rec_section = dat.classes[x].RECITATION[index].SECTION;
                    var rec_type = dat.classes[x].RECITATION[index].TYPE;
                    var rec_days = dat.classes[x].RECITATION[index].DAYS;
                    var rec_time = dat.classes[x].RECITATION[index].TIME;
                    var rec_building = dat.classes[x].RECITATION[index].BUILDING;
                    var rec_room = dat.classes[x].RECITATION[index].ROOM_NUMBER;
                    var rec_location = dat.classes[x].RECITATION[index].LOCATION;
                    var rec_status = dat.classes[x].RECITATION[index].STATUS;
                    var rec_reserved = dat.classes[x].RECITATION[index].RESERVED;
                    recitation[index] = new UbRec(rec_class_id, rec_id, ubclass1, rec_section, rec_type, rec_days, rec_time, rec_building, rec_room, rec_location, rec_status, rec_reserved);
                    index++;
                }
            }


            CLASS_HANDLES[x] = new UbClass(id,ubclass,title, department,section,type,days,time,building,room_number,location,professor,status,reserved,semester, recitation);
            x = x + 1;
            recitation = [];
        }
    });


    /*********************************************************
    *       Get Next Class Information
    *********************************************************/
    $(function() {
        $("#SearchButton").click(function() {
            var x = 0;
            var recitation = [];
            var times;

            //remove Available Classes
            remove_available_classes();
            //Reset Class_Handles
            reset_class_handles();
            $.getJSON('/getnextclassgroup', function (dat) {
                while(dat.classes[x] != null) {
                    var id = dat.classes[x].ID;
                    var ubclass = dat.classes[x].UBCLASS;
                    var title = "title";
                    var department = dat.classes[x].DEPARTMENT;
                    var section = dat.classes[x].SECTION;
                    var type = dat.classes[x].TYPE;
                    var days = dat.classes[x].DAYS;
                    var time = dat.classes[x].TIME;
                    var building = dat.classes[x].BUILDING;
                    var room_number = dat.classes[x].ROOM_NUMBER;
                    var location = dat.classes[x].LOCATION;
                    var professor = dat.classes[x].PROFESSOR;
                    var status = dat.classes[x].STATUS;
                    var reserved = dat.classes[x].RESERVED;
                    var semester = dat.classes[x].SEMESTER;
                    if(dat.classes[x].RECITATION.length != 0){
                        var index =0;
                        while(index<dat.classes[x].RECITATION.length) {
                            var rec_class_id = dat.classes[x].RECITATION[index].ID;
                            var rec_id = dat.classes[x].RECITATION[index].REC_ID;
                            var ubclass1 = dat.classes[x].RECITATION[index].UBCLASS;
                            var rec_section = dat.classes[x].RECITATION[index].SECTION;
                            var rec_type = dat.classes[x].RECITATION[index].TYPE;
                            var rec_days = dat.classes[x].RECITATION[index].DAYS;
                            var rec_time = dat.classes[x].RECITATION[index].TIME;
                            var rec_building = dat.classes[x].RECITATION[index].BUILDING;
                            var rec_room = dat.classes[x].RECITATION[index].ROOM_NUMBER;
                            var rec_location = dat.classes[x].RECITATION[index].LOCATION;
                            var rec_status = dat.classes[x].RECITATION[index].STATUS;
                            var rec_reserved = dat.classes[x].RECITATION[index].RESERVED;
                            recitation[index] = new UbRec(rec_class_id, rec_id, ubclass1, rec_section, rec_type, rec_days, rec_time, rec_building, rec_room, rec_location, rec_status, rec_reserved);
                            index++;
                        }
                    }
                    CLASS_HANDLES[x] = new UbClass(id, ubclass, title, department,section,type,days,time,building,room_number,location,professor,status,reserved,semester, recitation);
                    x = x + 1;
                    recitation = [];
                }
            //repopulate list
            make_available_classes();
            });
        });
    });


    function reset_class_handles(){
        for(var i=0;i<CLASS_HANDLES.length;i++){
            CLASS_HANDLES[i] = null;
        }
    }

    function remove_available_classes(){
        var list = document.getElementById('accordion-body');
        for(var i=CLASS_HANDLES.length-1;i>=0;i--){
            list = document.getElementById('container' + (CLASS_HANDLES[i].ID-1)).remove();
        }
    }
</script>


<!---------------------------------------------------------------
    - Helper Functions
---------------------------------------------------------------->
<body>
    <div id="wrapper">
        <div id="page-wrapper">
            <br/>
            <div class="row">
                <div class="col-lg-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-book"></i> Course Search...
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="list-group">
                                <h6>*Required:</h6>
                                <div class="dropdown">
                                <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">*Department
                                    <span class="caret"></span>
                                </button>
                                    <ul class="dropdown-menu scrollable-menu" role="menu">
                                        <li><a href="#">CIE</a></li>
                                        <li><a href="#">CSE</a></li>
                                        <li><a href="#">EAS</a></li>
                                        <li><a href="#">EE</a></li>
                                        <li><a href="#">MAE</a></li>
                                    </ul>
                                </div>
                                <div class="dropdown">
                                    <form class="form-horizontal" role="form">
                                        <div class="form-group">
                                            <br>
                                            <label for="courseNo" class="col-sm-4 control-label">*Course #</label>
                                            <div class="col-sm-4">
                                                <input type="text" class="form-control" id="courseNo" placeholder="###">
                                            </div>
                                        </div>
                                    </form>
                                    <form>
                                        <div class="dropdown">
                                            <br>
                                            <br>
                                            <button class="btn btn-success dropdown-toggle" type="button" data-toggle="dropdown">Filters (optional)
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu scrollable-menu" role="menu" style="padding-left:5px; max-height:200px; overflow:hidden; overflow-y:auto">
                                                <li class="dropdown-header"><i>Days</i></li>
                                                    <li><label><input type="checkbox" value=""> MWF</label></li>
                                                    <li><label><input type="checkbox" value=""> TR</label></li>
                                                    <li><label><input type="checkbox" value=""> MW</label></li>
                                                <li class="dropdown-header"><i>Times</i></li>
                                                    <li><label><input type="checkbox" value=""> 8:00AM</label></li>
                                                    <li><label><input type="checkbox" value=""> 9:00AM</label></li>
                                                    <li><label><input type="checkbox" value=""> 10:00AM</label></li>
                                                    <li><label><input type="checkbox" value=""> 11:00AM</label></li>
                                                    <li><label><input type="checkbox" value=""> 12:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 1:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 2:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 3:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 4:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 5:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 6:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 7:00PM</label></li>
                                                    <li><label><input type="checkbox" value=""> 8:00PM</label></li>
                                            </ul>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- /.list-group -->
                            <a href="#" id="SearchButton" class="btn btn-default btn-block">Search</a>
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
                <div class="col-lg-6">
                   <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-calendar"></i> Projected Weekly Schedule
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                        Actions
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#">Action</a>
                                        </li>
                                        <li><a href="flowsheet">View Current Semester</a>
                                        </li>
                                        <li><a href="profile">View Next Semester</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-hover" align="center">
                                            <thead>
                                                <tr style="background-color:#abb9d3;">
                                                    <th style="width:50px;">Time</th>
                                                    <th style="width:90px; text-align:center">Monday</th>
                                                    <th style="width:90px; text-align:center">Tuesday</th>
                                                    <th style="width:90px; text-align:center">Wednesday</th>
                                                    <th style="width:90px; text-align:center">Thursday</th>
                                                    <th style="width:90px; text-align:center">Friday</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr style="height:15px;">
                                                    <td>8:00</td>
                                                    <td id="M8:00AM"></td>
                                                    <td id="T8:00AM"></td>
                                                    <td id="W8:00AM"></td>
                                                    <td id="R8:00AM"></td>
                                                    <td id="F8:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>8:30</td>
                                                    <td id="M8:30AM"></td>
                                                    <td id="T8:30AM"></td>
                                                    <td id="W8:30AM"></td>
                                                    <td id="R8:30AM"></td>
                                                    <td id="F8:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>9:00</td>
                                                    <td id="M9:00AM"></td>
                                                    <td id="T9:00AM"></td>
                                                    <td id="W9:00AM"></td>
                                                    <td id="R9:00AM"></td>
                                                    <td id="F9:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>9:30</td>
                                                    <td id="M9:30AM"></td>
                                                    <td id="T9:30AM"></td>
                                                    <td id="W9:30AM"></td>
                                                    <td id="R9:30AM"></td>
                                                    <td id="F9:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>10:00</td>
                                                    <td id="M10:00AM"></td>
                                                    <td id="T10:00AM"></td>
                                                    <td id="W10:00AM"></td>
                                                    <td id="R10:00AM"></td>
                                                    <td id="F10:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>10:30</td>
                                                    <td id="M10:30AM"></td>
                                                    <td id="T10:30AM"></td>
                                                    <td id="W10:30AM"></td>
                                                    <td id="R10:30AM"></td>
                                                    <td id="F10:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>11:00</td>
                                                    <td id="M11:00AM"></td>
                                                    <td id="T11:00AM"></td>
                                                    <td id="W11:00AM"></td>
                                                    <td id="R11:00AM"></td>
                                                    <td id="F11:00AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                   <td>11:30</td>
                                                    <td id="M11:30AM"></td>
                                                    <td id="T11:30AM"></td>
                                                    <td id="W11:30AM"></td>
                                                    <td id="R11:30AM"></td>
                                                    <td id="F11:30AM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>12:00</td>
                                                    <td id="M12:00PM"></td>
                                                    <td id="T12:00PM"></td>
                                                    <td id="W12:00PM"></td>
                                                    <td id="R12:00PM"></td>
                                                    <td id="F12:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>12:30</td>
                                                    <td id="M12:30PM"></td>
                                                    <td id="T12:30PM"></td>
                                                    <td id="W12:30PM"></td>
                                                    <td id="R12:30PM"></td>
                                                    <td id="F12:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>1:00</td>
                                                    <td id="M1:00PM"></td>
                                                    <td id="T1:00PM"></td>
                                                    <td id="W1:00PM"></td>
                                                    <td id="R1:00PM"></td>
                                                    <td id="F1:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>1:30</td>
                                                    <td id="M1:30PM"></td>
                                                    <td id="T1:30PM"></td>
                                                    <td id="W1:30PM"></td>
                                                    <td id="R1:30PM"></td>
                                                    <td id="F1:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>2:00</td>
                                                    <td id="M2:00PM"></td>
                                                    <td id="T2:00PM"></td>
                                                    <td id="W2:00PM"></td>
                                                    <td id="R2:00PM"></td>
                                                    <td id="F2:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>2:30</td>
                                                    <td id="M2:30PM"></td>
                                                    <td id="T2:30PM"></td>
                                                    <td id="W2:30PM"></td>
                                                    <td id="R2:30PM"></td>
                                                    <td id="F2:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>3:00</td>
                                                    <td id="M3:00PM"></td>
                                                    <td id="T3:00PM"></td>
                                                    <td id="W3:00PM"></td>
                                                    <td id="R3:00PM"></td>
                                                    <td id="F3:00PM"></td>
                                                </tr>
                                                 <tr style="height:15px;">
                                                    <td>3:30</td>
                                                    <td id="M3:30PM"></td>
                                                    <td id="T3:30PM"></td>
                                                    <td id="W3:30PM"></td>
                                                    <td id="R3:30PM"></td>
                                                    <td id="F3:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>4:00</td>
                                                    <td id="M4:00PM"></td>
                                                    <td id="T4:00PM"></td>
                                                    <td id="W4:00PM"></td>
                                                    <td id="R4:00PM"></td>
                                                    <td id="F4:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>4:30</td>
                                                    <td id="M4:30PM"></td>
                                                    <td id="T4:30PM"></td>
                                                    <td id="W4:30PM"></td>
                                                    <td id="R4:30PM"></td>
                                                    <td id="F4:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>5:00</td>
                                                    <td id="M5:00PM"></td>
                                                    <td id="T5:00PM"></td>
                                                    <td id="W5:00PM"></td>
                                                    <td id="R5:00PM"></td>
                                                    <td id="F5:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>5:30</td>
                                                    <td id="M5:30PM"></td>
                                                    <td id="T5:30PM"></td>
                                                    <td id="W5:30PM"></td>
                                                    <td id="R5:30PM"></td>
                                                    <td id="F5:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>6:00</td>
                                                    <td id="M6:00PM"></td>
                                                    <td id="T6:00PM"></td>
                                                    <td id="W6:00PM"></td>
                                                    <td id="R6:00PM"></td>
                                                    <td id="F6:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>6:30</td>
                                                    <td id="M6:30PM"></td>
                                                    <td id="T6:30PM"></td>
                                                    <td id="W6:30PM"></td>
                                                    <td id="R6:30PM"></td>
                                                    <td id="F6:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>7:00</td>
                                                    <td id="M7:00PM"></td>
                                                    <td id="T7:00PM"></td>
                                                    <td id="W7:00PM"></td>
                                                    <td id="R7:00PM"></td>
                                                    <td id="F7:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>7:30</td>
                                                    <td id="M7:30PM"></td>
                                                    <td id="T7:30PM"></td>
                                                    <td id="W7:30PM"></td>
                                                    <td id="R7:30PM"></td>
                                                    <td id="F7:30PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>8:00</td>
                                                    <td id="M8:00PM"></td>
                                                    <td id="T8:00PM"></td>
                                                    <td id="W8:00PM"></td>
                                                    <td id="R8:00PM"></td>
                                                    <td id="F8:00PM"></td>
                                                </tr>
                                                <tr style="height:15px;">
                                                    <td>8:30</td>
                                                    <td id="M8:30PM"></td>
                                                    <td id="T8:30PM"></td>
                                                    <td id="W8:30PM"></td>
                                                    <td id="R8:30PM"></td>
                                                    <td id="F8:30PM"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- /.table-responsive -->
                                </div>
                                <!-- /.col-lg-4 (nested) -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-9 -->
                <div class="col-lg-4">
                    <div class="panel panel-default">
                        <div id = "head" class="panel-heading">
                            <i class="fa fa-bell fa-fw"></i> Available Classes
                        </div>
                        <!-- /.panel-heading -->
                        <div id="accordion-body" class="panel-body">
                            <div class="panel-group" id="accordion" >
                                <div id="timeout_wheel" class="panel panel-default"  style="display: block; height: 175px; background-color: #b0bed9; border: solid 4px;" >
                                    <h3 align="center">Finding Your Classes...</h3>
                                    <script>
                                       var opts = { lines: 12             // The number of lines to draw
                                                    , length: 12             // The length of each line
                                                    , width: 5              // The line thickness
                                                    , radius: 15            // The radius of the inner circle
                                                    , scale: 1.0            // Scales overall size of the spinner
                                                    , corners: 1            // Roundness (0..1)
                                                    , color: '#000'         // #rgb or #rrggbb
                                                    , opacity: 1/4          // Opacity of the lines
                                                    , rotate: 0             // Rotation offset
                                                    , direction: 1          // 1: clockwise, -1: counterclockwise
                                                    , speed: 1              // Rounds per second
                                                    , trail: 100            // Afterglow percentage
                                                    , fps: 20               // Frames per second when using setTimeout()
                                                    , zIndex: 2e9           // Use a high z-index by default
                                                    , className: 'spinner'  // CSS class to assign to the element
                                                    , top: '60%'            // center vertically
                                                    , left: '50%'           // center horizontally
                                                    , shadow: true         // Whether to render a shadow
                                                    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)
                                                    , position: 'absolute'  // Element positioning
                                                    };
                                       var target = document.getElementById('timeout_wheel');
                                       var spinner = new Spinner(opts).spin(target);
                                       window.setTimeout(switch_avail_classes,1000);
                                    </script>
                                </div>
                            </div>

                            <!-- /.list-group -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>



                <div class="col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bell fa-fw"></i> Selected Classes
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div id="selected_class_container" class="list-group">

                            </div>
                            <!-- /.list-group -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-3 -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery -->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/jquery/dist/jquery.min.js') }}"></script>
    <!-- Metis Menu Plugin JavaScript -->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/metisMenu/dist/metisMenu.min.js') }}"></script>
    <!-- Morris Charts JavaScript -->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/raphael/raphael-min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/bower_components/morrisjs/morris.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/js/morris-data.js') }}"></script>
    <!--bootstrap and custom bootstrap js files-->
    <script type="text/javascript" src="{{ url_for('static', filename='startbootstrap-sb-admin-2-1.0.7/dist/js/sb-admin-2.js') }}"></script>
    <script type ='text/javascript'>
        var g_Color = "#0c1Aff";
        var g_Border_Color = "Black";

        /*********************************************************
        *       Courses Class
        *********************************************************/
        var UbClass = function(id,ubclass,title,department,section,type,days,time,building,room_number,location,professor,status,reserved,semester, recitation){
            this.ID = id;
            this.UBCLASS = ubclass;
            this.TITLE = title;
            this.DEPARTMENT = department;
            this.SECTION = section;
            this.TYPE = type;
            this.DAYS = days;
            this.TIME = time;
            this.BUILDING = building;
            this.ROOM_NUMBER = room_number;
            this.LOCATION = location;
            this.PROFESSOR = professor;
            this.STATUS = status;
            this.RESERVED = reserved;
            this.SEMESTER = semester;
            this.RECITATION = recitation;
            this.REC_ID_selected = 0;

        };


        /*********************************************************
        *       Recitation Class
        *********************************************************/
        var UbRec = function(rec_class_id, rec_id, ubclass,section,type,days,time,building,room_number,location,status,reserved){
            this.ID = rec_class_id;
            this.REC_ID = rec_id;
            this.UBCLASS = ubclass;
            this.SECTION = section;
            this.TYPE = type;
            this.DAYS = days;
            this.TIME = time;
            this.BUILDING = building;
            this.ROOM_NUMBER = room_number;
            this.LOCATION = location;
            this.STATUS = status;
            this.RESERVED = reserved;
        };


        /*********************************************************
        *       Table Class
        *********************************************************/
        var Table_Class = function() {
            var x = 0;
            this.table_cells = [];
            for (x; x < 135; x++) {
                this.table_cells[x] = " ";
            }
            this.id_table = ['M8:00AM', 'M8:30AM', 'M9:00AM', 'M9:30AM', 'M10:00AM', 'M10:30AM', 'M11:00AM', 'M11:30AM', 'M12:00PM',
                'M12:30PM', 'M1:00PM', 'M1:30PM', 'M2:00PM', 'M2:30PM', 'M3:00PM', 'M3:30PM', 'M4:00PM', 'M4:30PM', 'M5:00PM',
                'M5:30PM', 'M6:00PM', 'M6:30PM', 'M7:00PM', 'M7:30PM', 'M8:00PM', 'M8:30PM', 'M9:00PM',
                'T8:00AM', 'T8:30AM', 'T9:00AM', 'T9:30AM', 'T10:00AM', 'T10:30AM', 'T11:00AM', 'T11:30AM', 'T12:00PM',
                'T12:30PM', 'T1:00PM', 'T1:30PM', 'T2:00PM', 'T2:30PM', 'T3:00PM', 'T3:30PM', 'T4:00PM', 'T4:30PM', 'T5:00PM',
                'T5:30PM', 'T6:00PM', 'T6:30PM', 'T7:00PM', 'T7:30PM', 'T8:00PM', 'T8:30PM', 'T9:00PM',
                'W8:00AM', 'W8:30AM', 'W9:00AM', 'W9:30AM', 'W10:00AM', 'W10:30AM', 'W11:00AM', 'W11:30AM', 'W12:00PM',
                'W12:30PM', 'W1:00PM', 'W1:30PM', 'W2:00PM', 'W2:30PM', 'W3:00PM', 'W3:30PM', 'W4:00PM', 'W4:30PM', 'W5:00PM',
                'W5:30PM', 'W6:00PM', 'W6:30PM', 'W7:00PM', 'W7:30PM', 'W8:00PM', 'W8:30PM', 'W9:00PM',
                'R8:00AM', 'R8:30AM', 'R9:00AM', 'R9:30AM', 'R10:00AM', 'R10:30AM', 'R11:00AM', 'R11:30AM', 'R12:00PM',
                'R12:30PM', 'R1:00PM', 'R1:30PM', 'R2:00PM', 'R2:30PM', 'R3:00PM', 'R3:30PM', 'R4:00PM', 'R4:30PM', 'R5:00PM',
                'R5:30PM', 'R6:00PM', 'R6:30PM', 'R7:00PM', 'R7:30PM', 'R8:00PM', 'R8:30PM', 'R9:00PM',
                'F8:00AM', 'F8:30AM', 'F9:00AM', 'F9:30AM', 'F10:00AM', 'F10:30AM', 'F11:00AM', 'F11:30AM', 'F12:00PM',
                'F12:30PM', 'F1:00PM', 'F1:30PM', 'F2:00PM', 'F2:30PM', 'F3:00PM', 'F3:30PM', 'F4:00PM', 'F4:30PM', 'F5:00PM',
                'F5:30PM', 'F6:00PM', 'F6:30PM', 'F7:00PM', 'F7:30PM', 'F8:00PM', 'F8:30PM', 'F9:00PM'];
        };

        /***********************************
        *       Get Cell Values
        ************************************/
        Table_Class.prototype.get_cell_value = function(cell_id){
            var index = this.id_table.indexOf(cell_id);
            return this.table_cells[index];
        };

        /***********************************
        *       Set Cell Values
        ************************************/
        Table_Class.prototype.set_cell_value = function(cell_id, new_data){
            var index = this.id_table.indexOf(cell_id);
            this.table_cells[index] = new_data;
        };

        /***********************************
        *       Change Cell Color
        ************************************/
        Table_Class.prototype.set_cell_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.backgroundColor = color;
                }
            }
        };

        /***********************************
        *       Change All Border Color
        ************************************/
        Table_Class.prototype.set_cell_border_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderBottomColor = color;
                }
            }
        };

        /***********************************
        *       Change Bottom Border Color
        ************************************/
        Table_Class.prototype.set_bottom_border_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderBottomColor = color;
                }
            }
        };

        /***********************************
        *       Change Top Border Color
        ************************************/
        Table_Class.prototype.set_top_border_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderTopColor = color;
                }
            }
        };

        /***********************************
        *       Change Side Border Color
        ************************************/
        Table_Class.prototype.set_side_borders_color = function(cell_id, color) {
            var elem;
            if (elem = document.getElementById(cell_id)) {
                if (elem.style) {
                    elem.style.borderRightColor = color;
                    elem.style.borderLeftColor = color;
                }
            }
        };

        /***********************************
        *       Test for cell_Conflict
        ************************************/
        Table_Class.prototype.cell_conflict = function(cell_id){
            var index = this.id_table.indexOf(cell_id);
            if(this.table_cells[index] == ' '){
                return false;
            }
            return true;
        };

        /***********************************
        *       Set Cell Color and Text
        ************************************/
        Table_Class.prototype.clicked_class = function(rec_handle, class_handle){
            if(class_handle.REC_ID_selected == 0){
                Table1.paint_cells(class_handle);
                Table1.paint_cells(rec_handle);
                class_handle.REC_ID_selected = rec_handle.ID;
            }
            else if(class_handle.REC_ID_selected != (rec_handle.ID)){
                Table1.clear_all_recs(class_handle,rec_handle);
                class_handle.REC_ID_selected = rec_handle.ID;
                Table1.paint_cells(rec_handle);
            }
            else if(class_handle.REC_ID_selected == (rec_handle.ID)){
                Table1.clear_cells(class_handle);
                Table1.clear_cells(rec_handle);
                class_handle.REC_ID_selected = 0;
            }
            populate_selected_class(class_handle,rec_handle);
        };

        /***********************************
        *       Change Visible Text
        ************************************/
        Table_Class.prototype.changeText = function(cell_id,text) {
            if (elem = document.getElementById(cell_id)) {
                elem.innerHTML = text;
            }
        };

        /***************************************
        *       Clear All Recitations of Parent Class
        ****************************************/
        Table_Class.prototype.clear_all_recs = function(class_handle) {
            var x=0;
            while(x<class_handle.RECITATION.length){
                Table1.clear_cells(class_handle.RECITATION[x]);
                x++;
            }
        };

        /***************************************
        *       Clear All Recitations of Parent
        ****************************************/
        Table_Class.prototype.clear_cells = function(class_handle) {
            var clear_times = convertTimes(class_handle.DAYS, class_handle.TIME);
            var clear_index;
            var first_cell_of_block;
            for(var k=0;k<10;k=k+2) {
                first_cell_of_block = 1;
                if (times[k] != ' ') {
                    clear_index = Table1.id_table.indexOf(clear_times[k]);
                    while (Table1.id_table[clear_index] != clear_times[k + 1]) {
                        if(Table1.cell_conflict(this.id_table[clear_index])){
                            this.set_cell_value(this.id_table[clear_index],' ');
                            this.set_cell_color(this.id_table[clear_index], "White");
                            this.set_cell_border_color(this.id_table[clear_index], "#ddd");
                            this.set_side_borders_color(this.id_table[clear_index], "#ddd");
                            if(first_cell_of_block == 1) {
                                this.changeText(this.id_table[clear_index], ' ');
                                this.changeText(this.id_table[clear_index+1], ' ');
                                first_cell_of_block = 0;
                            }
                        }
                        clear_index++;
                    }
                }
            }
        };

        /***************************************
        *       Paint Cells
        ****************************************/
        Table_Class.prototype.paint_cells = function(class_handle) {
            var paint_times = convertTimes(class_handle.DAYS, class_handle.TIME);
            var paint_index;
            var first_cell_of_block;
            for(var w=0;w<10;w=w+2) {
                first_cell_of_block = 1;
                if (times[w] != ' ') {
                    paint_index = Table1.id_table.indexOf(paint_times[w]);
                    while (Table1.id_table[paint_index] != paint_times[w + 1]) {
                        if(!Table1.cell_conflict(Table1.id_table[paint_index])){
                            this.set_cell_value(this.id_table[paint_index],class_handle.ID);
                            this.set_cell_color(this.id_table[paint_index], g_Color);

                            this.set_side_borders_color(this.id_table[paint_index], g_Border_Color);
                            this.set_bottom_border_color(this.id_table[paint_index], g_Color);

                            //this.set_cell_border_color(this.id_table[paint_index], g_Color);
                            if(first_cell_of_block == 1) {
                                if(class_handle.REC_ID) {
                                    this.changeText(this.id_table[paint_index], class_handle.UBCLASS);
                                    this.changeText(this.id_table[paint_index+1], class_handle.TYPE);
                                }
                                else{
                                    this.changeText(this.id_table[paint_index], class_handle.UBCLASS);
                                }
                                first_cell_of_block = 0;
                                this.set_top_border_color(this.id_table[paint_index], g_Border_Color);
                            }
                        }
                        paint_index++;
                    }
                    this.set_bottom_border_color(this.id_table[paint_index-1], g_Border_Color);
                }
            }
        };


        var Selected_Class = function(){
            this.SELECTED_CLASS_HANDLES = [];
            this.NUM_SELECTED_CLASSES = 0;
        };

        /*********************************************************
        *       New Instances
        *********************************************************/
        var Table1 = new Table_Class();
        var Selected_Classes = new Selected_Class();

    </script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>



</body>




{% endblock %}